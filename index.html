<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual do Robô de Atendimento: Jira + n8n</title>
    <style>
        :root {
            --jira-blue: #0052CC;
            --n8n-orange: #FF6D5A;
            --n8n-dark: #1A1A1A;
            --bg-light: #F4F5F7;
            --text-main: #172B4D;
        }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; line-height: 1.6; color: var(--text-main); max-width: 1000px; margin: 0 auto; padding: 20px; background-color: var(--bg-light); }
        header { background: linear-gradient(135deg, var(--jira-blue) 0%, var(--n8n-orange) 100%); color: white; padding: 3rem 2rem; border-radius: 12px; text-align: center; margin-bottom: 40px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h2 { color: var(--jira-blue); border-left: 6px solid var(--n8n-orange); padding-left: 15px; margin-top: 50px; text-transform: uppercase; font-size: 1.4rem; }
        h3 { color: var(--n8n-orange); margin-top: 30px; font-size: 1.2rem; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
        .card { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.05); margin-bottom: 30px; border: 1px solid #DFE1E6; }
        p { margin-bottom: 15px; text-align: justify; }
        img { max-width: 100%; height: auto; border-radius: 8px; margin: 25px 0; border: 2px solid #EBECF0; display: block; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        code { background-color: #FEEBE9; padding: 4px 8px; border-radius: 4px; color: #D63384; font-family: 'Consolas', monospace; font-size: 0.95em; }
        .jql-box { background-color: #1A1A1A; color: #00FF00; padding: 15px; border-radius: 6px; font-family: 'Consolas', monospace; margin: 15px 0; }
        .status-badge { background-color: #36B37E; color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold; }
        footer { text-align: center; margin-top: 60px; padding: 40px; color: #6B778C; border-top: 1px solid #D1D5DB; }
    </style>
</head>
<body>

<header>
    <h1>Guia Passo a Passo: Automação de Chamados</h1>
    <p>Como criar um robô que responde seus clientes no Jira sem repetir mensagens</p>
</header>

<section class="card">
    <h2>1. A Chave de Acesso (Token de API)</h2>
    <p>Para que o robô (n8n) consiga ler e escrever no seu Jira, ele precisa de uma senha especial chamada <strong>Token</strong>. Isso garante que só o seu robô tenha acesso aos dados.</p>
    
    <h3>1.1 Criando o Token no Jira</h3>
    <p>Acesse o portal da Atlassian, dê um nome para sua chave (como "n8n_teste") e guarde o código que ele vai te mostrar.</p>
    <img src="criando_token_jira.png" alt="Criando o Token no Jira">
    <img src="token_jira.png" alt="Token Gerado com Sucesso">
</section>

<section class="card">
    <h2>2. O Coração da Automação (n8n Workflow)</h2>
    <p>Aqui é onde montamos o caminho que o robô vai seguir. Ele funciona como uma linha de montagem: cada caixa (nó) faz uma tarefa específica.</p>

    <h3>2.1 Visão Geral do Processo</h3>
    <p>Abaixo você vê o fluxo completo. Note que as setas indicam o caminho da informação, do relógio até a última trava.</p>
    <img src="fluxo_completo.png" alt="Visão Geral do Fluxo n8n">

    <h3>2.2 O Despertador (Schedule Trigger)</h3>
    <p>Configuramos o robô para acordar e olhar sua fila de chamados a cada <strong>5 minutos</strong>. Assim, nenhum cliente fica esperando muito tempo.</p>
    <img src="schedule_trigger.png" alt="Configuração de 5 minutos">
</section>

<section class="card">
    <h2>3. A Inteligência do Robô (Filtro e Resposta)</h2>
    <p>O robô não pode sair respondendo tudo. Ele precisa saber quais chamados são novos e quais ele já respondeu.</p>

    <h3>3.1 O Filtro de Busca (JQL)</h3>
    <p>Usamos um código especial para dizer ao robô: "Só pegue chamados que estão <em>Em Progresso</em> e que <strong>não tenham</strong> a marcação do meu robô na descrição".</p>
    <div class="jql-box">
        status = "Em Progresso" AND assignee = currentUser() AND (description !~ "comentado_por_dani" OR description is EMPTY)
    </div>
    <img src="get_many.png" alt="Configuração da busca">

    <h3>3.2 Enviando o Comentário</h3>
    <p>Se o chamado passar no filtro acima, o robô escreve a sua mensagem de boas-vindas automaticamente.</p>
    <img src="add_comment.png" alt="Robô escrevendo o comentário">
</section>

<section class="card">
    <h2>4. A Trava de Segurança (Evitando o Spam)</h2>
    <p>Para o robô não responder a mesma pessoa infinitamente, ele precisa "carimbar" o chamado após comentar.</p>
    
    <h3>4.1 Atualizando o Chamado</h3>
    <p>O robô pega a descrição atual e adiciona um código secreto no final: <code>- comentado_por_dani</code>. Da próxima vez que ele rodar, ele lerá esse código e saberá que já fez o trabalho ali.</p>
    <img src="update_issue.png" alt="Carimbando o chamado">
</section>

<section class="card">
    <h2>5. Verificação Final</h2>
    <p>Com tudo configurado, o robô agora trabalha sozinho. Você pode ver o histórico de sucesso no n8n e a resposta real lá no Jira.</p>
    
    <h3>5.1 Automação Ativa</h3>
    <p>O botão verde <span class="status-badge">Published</span> indica que o robô está vigiando sua fila agora mesmo.</p>
    <img src="automacao_ok.png" alt="Robô publicado e ativo">

    <h3>5.2 Resultado no Jira</h3>
    <p>Veja como o cliente recebe a mensagem de forma limpa e profissional.</p>
</section>

<footer>
    <p>Desenvolvido com muito café  ☕ por Dani • Fevereiro de 2026</p>
</footer>

</body>
</html>
